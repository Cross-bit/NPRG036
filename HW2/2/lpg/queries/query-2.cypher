MATCH path = 
(class:Class)<-[:BelongingClass]-(:Timetable)-[:PlannedLesson]->(:Lesson)-[:IsTaught]->(subject:Subject)<-[:Teaches]-(teacher:Teacher)<-[:ClassTeacher]-(class:Class) RETURN teacher.name, class.year + "." + class.code, subject.name